/*
 *     Generated by class-dump 3.3.3 (64 bit).
 *
 *     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2010 by Steve Nygard.
 */



#import "IMAPResponseHandler-Protocol.h"

@class IMAPGateway, IMAPMailbox, InvocationQueue, LibraryIMAPStore, NSArray, NSMutableArray, NSMutableIndexSet;

@interface IMAPMailboxSyncEngine : NSObject <IMAPResponseHandler>
{
    id _syncEngineLock;
    IMAPGateway *_gateway;
    LibraryIMAPStore *_store;
    IMAPMailbox *_IMAPMailbox;
    NSMutableArray *_auxiliaryLists;
    NSMutableIndexSet *_allNewUids;
    NSMutableIndexSet *_UIDsNeedingSkeletons;
    unsigned long long _numMessagesOnServer;
    unsigned long long _firstMessageNumber;
    NSMutableArray *_messageDetails;
    unsigned long long _maxSkeletonsToFetch;
    NSMutableIndexSet *_expungedUids;
    long long _progressType;
    unsigned long long _progressTotal;
    unsigned long long _checkNewMailCount;
    InvocationQueue *_syncEngineQueue;
    NSMutableArray *_messagesNeedingAttachmentNames;
    NSArray *_messagesBeingRouted;
    NSMutableArray *_messagesAddedToLibrary;
    NSMutableArray *_uidsAddedToServer;
    NSMutableArray *_messagesAddedToServer;
    id _compareByUid;
    unsigned int _uidNext;
    unsigned int _uidValidity;
    unsigned int _libraryClientUidNext;
    unsigned int _newUidValidity;
    BOOL _isReset;
    BOOL _needToUpdateExists;
    BOOL _newResponsesAvailable;
    BOOL _automaticallyStartThread;
    BOOL _storeIsInbox;
    BOOL _newMailReceivedInInbox;
    BOOL _checkedForNewUids;
    BOOL _synchronizedOldMessages;
    BOOL _connectionSupportsUIDPLUS;
    BOOL _messagesNeedAttachmentNames;
}

- (id)initWithStore:(id)arg1;
- (id)init;
- (void)dealloc;
- (id)description;
- (id)_copyIMAPMailbox;
- (id)_copyLibraryIMAPStore;
- (BOOL)isReset;
- (void)reset;
- (void)_resetClearingGateway:(BOOL)arg1 clearingStore:(BOOL)arg2;
- (void)invalidateStore;
- (void)_setupForNewIMAPMailbox:(id)arg1 andGateway:(id)arg2;
- (void)setGatewayFromIMAPMailbox:(id)arg1;
- (void)updateCountOfMessagesOnServerFromIMAPMailbox:(id)arg1 fromIDLE:(BOOL)arg2;
- (void)_updateCountOfMessagesOnServerIfNecessary;
- (void)setUidValidity:(unsigned int)arg1;
- (void)responsesWereAddedToIMAPMailbox:(id)arg1;
- (void)_handleMessagesWereAddedToLibrary:(id)arg1 withMonitor:(id)arg2;
- (void)messagesWereAddedToLibrary:(id)arg1;
- (id)messagesBeingAdded;
- (void)setAutomaticallyStartsBackgroundThread:(BOOL)arg1;
- (void)runSynchronouslyWithMessages:(id)arg1;
- (void)requestCheckingNewMail;
- (void)_handleNewUIDsAddedToServer:(id)arg1 forMessages:(id)arg2;
- (void)newUIDsWereAddedToServer:(id)arg1 forMessages:(id)arg2;
- (unsigned long long)_getKnownMessageCount;
- (id)_getKnownMessageDetailsForNumber:(unsigned long long)arg1;
- (id)_getKnownMessageDetailsForUid:(unsigned int)arg1;
- (void)_removeMessagesOrDetailsFromLibrary:(id)arg1;
- (void)_startNewThreadIfNeeded;
- (id)_getObjectWithSameUidAsObject:(id)arg1 inArray:(id)arg2 insertIndex:(unsigned long long *)arg3;
@property(readonly) id compareByUid;
- (void)_handleFetchResponse:(id)arg1 withMonitor:(id)arg2 message:(id *)arg3 flagsChanges:(id *)arg4;
- (void)_doUidStoreUpdate:(id)arg1;
- (void)_pushFlags:(id)arg1 forMessageIDs:(id)arg2 toStore:(id)arg3 updateServer:(BOOL)arg4 usingCriterion:(id)arg5 withMonitor:(id)arg6;
- (void)_pushFlags:(id)arg1 toStore:(id)arg2 updateServer:(BOOL)arg3 withMonitor:(id)arg4;
- (void)_updateFlagChanges:(id *)arg1 withDetails:(id)arg2 previousFlags:(unsigned int)arg3 previousEncoding:(unsigned int)arg4;
- (void)_addDetails:(id)arg1 forMessageNumber:(unsigned long long)arg2;
- (void)_processAttachmentNames;
- (void)_setAttachmentNamesForMessage:(id)arg1;
- (void)_addItem:(id)arg1 toAuxiliaryList:(unsigned long long)arg2;
- (void)_removeUidFromAuxiliaryLists:(id)arg1;
- (id)_getAuxiliaryListForType:(unsigned long long)arg1;
- (void)_setAuxiliaryList:(id)arg1 forType:(unsigned long long)arg2;
- (void)_mergeItems:(id)arg1 intoAuxiliaryList:(unsigned long long)arg2;
- (id)_checkOutGateway;
- (BOOL)_setGateway:(id)arg1;
- (void)_notifyBackgroundFetchCompleted;
- (BOOL)_hasPendingChanges;
- (void)_updatePendingChangesWithMonitor:(id)arg1;
- (void)_goWithMessages:(id)arg1;
- (void)_goWithMessagesIfNeeded:(id)arg1;
- (BOOL)_shouldContinueSyncingWithGateway;
- (BOOL)_shouldContinueSyncingWithMonitor:(id)arg1;
- (BOOL)_processResponsesWithMonitor:(id)arg1;
- (BOOL)_getNewMessageSkeletonsWithMonitor:(id)arg1 messagesFromOpen:(id *)arg2;
- (id)_newOperationFromUIDsNeedingSkeletons:(unsigned long long)arg1;
- (BOOL)_handleRoutedUidsWithMonitor:(id)arg1;
- (BOOL)_fetchUidsAndFlagsWithMonitor:(id)arg1;
- (BOOL)_syncWithLibraryWithMonitor:(id)arg1 messagesFromOpen:(id)arg2;
- (BOOL)_cacheMessagesWithMonitor:(id)arg1;
- (BOOL)_cacheAttachmentsWithMonitor:(id)arg1;
- (BOOL)_recoverFromErrorInDownload:(id)arg1 uid:(unsigned int)arg2 cacheList:(id)arg3 atIndex:(unsigned long long)arg4 downloadCache:(id)arg5;
- (BOOL)_handleInvitationMessagesWithMonitor:(id)arg1;
- (unsigned long long)_cachePolicyForAccount:(id)arg1;
- (BOOL)handleResponse:(id)arg1 forOperation:(id)arg2;
- (void)_setupFakeResponseToOperation:(id)arg1 messageNumber:(unsigned long long)arg2;
- (BOOL)_handleFailedFetchResponse:(id)arg1 forOperation:(id)arg2;
@property BOOL connectionSupportsUIDPLUS; // @synthesize connectionSupportsUIDPLUS=_connectionSupportsUIDPLUS;
@property unsigned int uidNext; // @synthesize uidNext=_uidNext;
@property unsigned long long numberOfMessagesOnServer; // @synthesize numberOfMessagesOnServer=_numMessagesOnServer;
@property BOOL messageListIsSynchronized; // @synthesize messageListIsSynchronized=_synchronizedOldMessages;

@end

