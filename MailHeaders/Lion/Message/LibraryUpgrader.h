/*
 *     Generated by class-dump 3.3.3 (64 bit).
 *
 *     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2010 by Steve Nygard.
 */



@class ActivityAggregate, ActivityMonitor, Library, NSString, SqliteHandle;

@interface LibraryUpgrader : NSObject
{
    Library *_library;
    unsigned long long _majorVersion;
    unsigned long long _minorVersion;
    ActivityMonitor *_monitor;
    ActivityAggregate *_activity;
    id <LibraryUpgraderDelegate> _delegate;
    struct sqlite3 *_upgraderDB;
    SqliteHandle *_handle;
    NSString *_migrationDestinationPath;
    BOOL _readOnly;
}

+ (void)initialize;
- (id)initWithLibrary:(id)arg1;
- (id)init;
- (void)dealloc;
- (int)libraryStatus;
- (BOOL)_path:(id)arg1 hasPrefixInArray:(id)arg2;
- (BOOL)_shouldDisplayDisturbingAndVagueWarningAboutMigrationToUser;
- (void)resetEvaluationOfAccountsForMigration;
- (id)unresolvedAccountPaths;
- (BOOL)_allAccountsAreOnSameFSAsLibraryMail;
- (void)_evaluateAccountsForMigration;
- (BOOL)shouldMigrateToV2;
- (BOOL)isComplexMigrationToV2;
- (BOOL)validateMigrationPath:(id)arg1;
- (void)run;
- (void)_dropTriggers;
- (BOOL)_upgradeSchema;
- (void)_createNewDatabaseObjects;
- (void)_vacuum;
- (void)_useWALJournalingIfPossible;
- (void)_upgradeFromTigerToLeopard;
- (void)_populateRecipientPosition;
- (void)_updateCoalescedAddressReferences;
- (void)_upgradeFromLeopardToSnowLeopard;
- (void)_normalizeRSSMailboxEncodings;
- (void)_addIsResponseRequestedToCalendarEventTable:(unsigned long long)arg1;
- (void)_addSupportForConversations:(unsigned long long)arg1;
- (void)_addSnippetsTable:(unsigned long long)arg1;
- (void)_resetConversationColumn:(unsigned long long)arg1;
- (void)_resetSnippetColumn:(unsigned long long)arg1;
- (void)_fixThreadsTableReferences:(unsigned long long)arg1;
- (long long)_prefixFixupTag;
- (void)_fixMessageSubjectPrefixes:(long long)arg1;
- (unsigned long long)_oldEffectivePrefixLength:(id)arg1;
- (unsigned long long)_oldPrefixLengthForSubject:(id)arg1;
- (BOOL)_calculateInternationalSubjectPrefixes:(unsigned long long)arg1;
- (void)_addUnreadCountsToMailboxes:(unsigned long long)arg1;
- (void)_calculateConversationsForExistingMessages:(unsigned long long)arg1;
- (void)_migrateLabelsToFlags:(unsigned long long)arg1;
- (void)_addSupportForFuzzyAncestors:(unsigned long long)arg1;
- (void)_addSupportForAutomatedConversations:(unsigned long long)arg1;
- (void)_upgradeSubjectIndex:(unsigned long long)arg1;
- (void)_removeToDos:(unsigned long long)arg1;
- (void)_migrateTasksToLocalCalendar;
- (void)_removeAssociations:(unsigned long long)arg1;
- (void)_fixupV2ServerPathPrefix;
- (void)_resetPasswords:(unsigned long long)arg1;
- (void)_setAttachmentsStake:(unsigned long long)arg1;
- (id)_activity;
- (void)_setActivity:(id)arg1;
- (void)setProgressItemTotal:(unsigned long long)arg1;
- (void)incrementProgressIndicator;
- (void)resetProgressItemsWithTotal:(unsigned long long)arg1 andStatusMessage:(id)arg2;
- (void)_setHandle:(id)arg1;
- (id)_handle;
- (struct sqlite3 *)_getReaderDB;
- (void)_unlockReaderDB:(struct sqlite3 *)arg1;
- (struct sqlite3 *)_getWriterDB;
- (void)_unlockWriterDB:(struct sqlite3 *)arg1;
- (void)_getVersionInfo;
- (void)_bootstrapVersioningEngine;
- (BOOL)_canRun:(id *)arg1;
- (BOOL)_needsRun;
- (void)_executeSQL:(id)arg1 updateMinorVersion:(unsigned long long)arg2;
- (void)_stampCurrentMinorVersion;
- (long long)_getSQLTableCount:(const char *)arg1 usingDB:(struct sqlite3 *)arg2;
@property(copy) NSString *migrationDestinationPath; // @synthesize migrationDestinationPath=_migrationDestinationPath;
@property(retain, nonatomic) ActivityMonitor *monitor; // @synthesize monitor=_monitor;
@property BOOL readOnly; // @synthesize readOnly=_readOnly;
@property id <LibraryUpgraderDelegate> delegate; // @synthesize delegate=_delegate;

@end

