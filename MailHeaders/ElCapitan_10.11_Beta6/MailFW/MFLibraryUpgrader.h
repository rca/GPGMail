/*
 *     Generated by class-dump 3.4 (64 bit).
 *
 *     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2012 by Steve Nygard.
 */

#import "NSObject.h"

#import "MCActivityTarget.h"

@class ACAccountStore, MCActivityAggregate, MCActivityMonitor, MFSqliteHandle, NSArray, NSString;

@interface MFLibraryUpgrader : NSObject <MCActivityTarget>
{
    MFSqliteHandle *_handle;
    ACAccountStore *_accountStore;
    NSArray *_upgradeSteps;
    BOOL _readOnly;
    BOOL _shouldRecalculateConversations;
    BOOL _shouldUpdateSubjectPrefixes;
    BOOL _shouldResetSnippets;
    BOOL _shouldRecalculateMessageCounts;
    BOOL _shouldUpdateSpotlightAttributes;
    BOOL _shouldUpdateSpotlightAttributesWithMultipleRecipients;
    BOOL _shouldUpdateSpotlightContentType;
    BOOL _shouldUpdateMailboxURLs;
    BOOL _shouldResetChangeIdentifierForGmailAccounts;
    BOOL _shouldNormalizeMailboxPaths;
    BOOL _shouldResetDynamicAccountConfiguration;
    BOOL _shouldRemoveMailboxesWithAbsoluteURLs;
    BOOL _shouldFixLocalMailboxesToV2;
    BOOL _shouldUpdateFavoritePersistentIdentifierUnicodeComposition;
    BOOL _shouldReparseReferencesHeader;
    BOOL _shouldRecalculatePartsHaveBeenCached;
    BOOL _shouldUpdateUIDNext;
    BOOL _shouldRemoveJunkColors;
    BOOL _shouldReparseExchangeReferences;
    BOOL _shouldRecalculateAutomatedConversations;
    id <MFLibraryUpgraderDelegate> _delegate;
    MCActivityMonitor *_monitor;
    NSString *_migrationV2DestinationPath;
    unsigned long long _initialLastWriteMinorVersion;
    unsigned long long _majorVersion;
    unsigned long long _minorVersion;
    MCActivityAggregate *_activity;
    struct sqlite3 *_upgraderDB;
}

@property(nonatomic) struct sqlite3 *upgraderDB; // @synthesize upgraderDB=_upgraderDB;
@property(retain, nonatomic) MCActivityAggregate *activity; // @synthesize activity=_activity;
@property(nonatomic) unsigned long long minorVersion; // @synthesize minorVersion=_minorVersion;
@property(nonatomic) unsigned long long majorVersion; // @synthesize majorVersion=_majorVersion;
@property(nonatomic) unsigned long long initialLastWriteMinorVersion; // @synthesize initialLastWriteMinorVersion=_initialLastWriteMinorVersion;
@property(nonatomic) BOOL shouldRecalculateAutomatedConversations; // @synthesize shouldRecalculateAutomatedConversations=_shouldRecalculateAutomatedConversations;
@property(nonatomic) BOOL shouldReparseExchangeReferences; // @synthesize shouldReparseExchangeReferences=_shouldReparseExchangeReferences;
@property(nonatomic) BOOL shouldRemoveJunkColors; // @synthesize shouldRemoveJunkColors=_shouldRemoveJunkColors;
@property(nonatomic) BOOL shouldUpdateUIDNext; // @synthesize shouldUpdateUIDNext=_shouldUpdateUIDNext;
@property(nonatomic) BOOL shouldRecalculatePartsHaveBeenCached; // @synthesize shouldRecalculatePartsHaveBeenCached=_shouldRecalculatePartsHaveBeenCached;
@property(nonatomic) BOOL shouldReparseReferencesHeader; // @synthesize shouldReparseReferencesHeader=_shouldReparseReferencesHeader;
@property(nonatomic) BOOL shouldUpdateFavoritePersistentIdentifierUnicodeComposition; // @synthesize shouldUpdateFavoritePersistentIdentifierUnicodeComposition=_shouldUpdateFavoritePersistentIdentifierUnicodeComposition;
@property(nonatomic) BOOL shouldFixLocalMailboxesToV2; // @synthesize shouldFixLocalMailboxesToV2=_shouldFixLocalMailboxesToV2;
@property(nonatomic) BOOL shouldRemoveMailboxesWithAbsoluteURLs; // @synthesize shouldRemoveMailboxesWithAbsoluteURLs=_shouldRemoveMailboxesWithAbsoluteURLs;
@property(nonatomic) BOOL shouldResetDynamicAccountConfiguration; // @synthesize shouldResetDynamicAccountConfiguration=_shouldResetDynamicAccountConfiguration;
@property(nonatomic) BOOL shouldNormalizeMailboxPaths; // @synthesize shouldNormalizeMailboxPaths=_shouldNormalizeMailboxPaths;
@property(nonatomic) BOOL shouldResetChangeIdentifierForGmailAccounts; // @synthesize shouldResetChangeIdentifierForGmailAccounts=_shouldResetChangeIdentifierForGmailAccounts;
@property(nonatomic) BOOL shouldUpdateMailboxURLs; // @synthesize shouldUpdateMailboxURLs=_shouldUpdateMailboxURLs;
@property(nonatomic) BOOL shouldUpdateSpotlightContentType; // @synthesize shouldUpdateSpotlightContentType=_shouldUpdateSpotlightContentType;
@property(nonatomic) BOOL shouldUpdateSpotlightAttributesWithMultipleRecipients; // @synthesize shouldUpdateSpotlightAttributesWithMultipleRecipients=_shouldUpdateSpotlightAttributesWithMultipleRecipients;
@property(nonatomic) BOOL shouldUpdateSpotlightAttributes; // @synthesize shouldUpdateSpotlightAttributes=_shouldUpdateSpotlightAttributes;
@property(nonatomic) BOOL shouldRecalculateMessageCounts; // @synthesize shouldRecalculateMessageCounts=_shouldRecalculateMessageCounts;
@property(nonatomic) BOOL shouldResetSnippets; // @synthesize shouldResetSnippets=_shouldResetSnippets;
@property(nonatomic) BOOL shouldUpdateSubjectPrefixes; // @synthesize shouldUpdateSubjectPrefixes=_shouldUpdateSubjectPrefixes;
@property(nonatomic) BOOL shouldRecalculateConversations; // @synthesize shouldRecalculateConversations=_shouldRecalculateConversations;
@property(copy, nonatomic) NSString *migrationV2DestinationPath; // @synthesize migrationV2DestinationPath=_migrationV2DestinationPath;
@property(retain, nonatomic) MCActivityMonitor *monitor; // @synthesize monitor=_monitor;
@property(nonatomic) BOOL readOnly; // @synthesize readOnly=_readOnly;
@property(nonatomic) __weak id <MFLibraryUpgraderDelegate> delegate; // @synthesize delegate=_delegate;
- (void).cxx_destruct;
- (void)upgradeSignaturesFromLion;
- (void)upgradeSmartMailboxesFromLion;
- (void)upgradeRulesFromLion;
- (void)upgradeMailDataIfNecessary;
- (long long)_getSQLTableCount:(const char *)arg1 usingDB:(struct sqlite3 *)arg2;
- (void)_stampCurrentMinorVersion:(unsigned long long)arg1;
- (void)_executeSQL:(id)arg1 updateMinorVersion:(unsigned long long)arg2;
@property(readonly, nonatomic) NSArray *upgradeSteps;
- (BOOL)_needsRun;
- (BOOL)_canRun:(id *)arg1;
- (void)_bootstrapVersioningEngine;
- (void)_getVersionInfo;
- (void)_unlockWriterDB:(struct sqlite3 *)arg1;
- (struct sqlite3 *)_getWriterDB;
- (void)_unlockReaderDB:(struct sqlite3 *)arg1;
- (struct sqlite3 *)_getReaderDB;
- (id)_handle;
- (void)_setHandle:(id)arg1;
- (void)resetProgressItemsWithTotal:(unsigned long long)arg1 andStatusMessage:(id)arg2;
- (void)incrementProgressIndicatorWithThreshold:(unsigned long long)arg1;
- (void)incrementProgressIndicator;
- (void)setProgressItemTotal:(unsigned long long)arg1;
- (id)_systemAccountsWithAccountTypeIdentifiers:(id)arg1;
@property(readonly, nonatomic) ACAccountStore *accountStore;
- (id)_libraryIDsOfAutomatedMessages;
- (id)_reparseExchangeReferences;
- (void)_removeJunkColors;
- (void)_updateUIDNext;
- (void)_recalculatePartsHaveBeenCached;
- (void)_removeContainerLogs;
- (void)_resetConfigureDynamically;
- (void)_fakeLibraryUpgraderStep;
- (void)_normalizeMailboxPathComponentsInMboxCache;
- (void)_reparseReferencesForRowIDsByMailboxURL:(id)arg1;
- (id)_reparseReferencesMatchingQuery:(id)arg1;
- (id)_reparseReferencesHeader;
- (void)_resetConversationsForExistingMessagesWithRowIDs:(id)arg1;
- (void)_resetSnippetColumn;
- (BOOL)_calculateInternationalSubjectPrefixes;
- (void)updateFavoritePersistentIdentifierUnicodeComposition;
- (void)_updateMailboxURLUnicodeComposition;
- (id)_validURLCharacterSet;
- (void)_updateSpotlightContentType;
- (id)_copySpotlightAttributesWithDateSent:(int)arg1 dateReceived:(int)arg2 dateLastViewed:(int)arg3 read:(int)arg4 libraryFlags:(long long)arg5 messageID:(const char *)arg6 subject:(id)arg7 displayName:(id)arg8 senderName:(id)arg9 senderAddress:(id)arg10 recipientNames:(id)arg11 recipientAddresses:(id)arg12;
- (id)_urlStringForMailboxDirectory:(id)arg1 account:(id)arg2 levelFromAccountDirectory:(unsigned long long)arg3;
- (void)_getRecipientsForMessageWithLibraryID:(long long)arg1 recipientNames:(id)arg2 recipientAddresses:(id)arg3 dbHandle:(id)arg4;
- (void)_setSpotlightAttributesForEMLXFilesInMailbox:(id)arg1 mailboxURLString:(id)arg2;
- (void)_sendSpotlightAttributesByPath:(id)arg1;
- (id)_accountsWithTypeIdentifiers:(id)arg1;
- (id)_mailboxFileSystemPathsByDatabaseURLForAccounts:(id)arg1;
- (void)_updateSpotlightAttributesWithMultipleRecipients;
- (void)_updateSpotlightAttributes;
- (void)_removeMailboxesWithAbsoluteURLs;
- (void)_resetChangeIdentifierForGmailAccounts;
- (id)_fixAbsoluteMailboxURL:(id)arg1 mailAccounts:(id)arg2;
- (id)_fixCriteriaWithAbsoluteMailboxURLs:(id)arg1 mailAccounts:(id)arg2;
- (id)_fixSmartMailboxWithAbsoluteMailboxURLs:(id)arg1 mailAccounts:(id)arg2;
- (void)_removeLocalPathsFromRulesAndSmartMailboxes:(unsigned long long)arg1;
- (void)_fixLocalMailboxesToV2;
- (void)_upgradeFromSUMavericksDuneToYosemite;
- (void)_upgradeFromSUMavericksCarveToSUMavericksDune;
- (void)_upgradeFromSUMavericksBoardToSUMavericksCarve;
- (void)_upgradeFromMavericksToSUMavericksBoard;
- (void)_fixShadowEMLXFilesForAccount:(id)arg1;
- (void)_fixShadowEMLXFiles;
- (id)_mailboxURLStringsForAccount:(id)arg1;
- (BOOL)_accountIsGmailAccount:(id)arg1;
- (void)_upgradeFromSUMountainCalypsoToMavericks;
- (void)_upgradeFromMountainLionToSUMountainCalypso;
- (void)makeAppleScriptReferencesInRulesUseOnlyLastPathComponent;
- (void)_fixEWSFoldersTable;
- (void)fixMailDownloadsMigrationKey;
- (void)_startMigratorServiceForAppleScriptFilesAndRules;
- (void)upgradeAppleScriptFilesAndRules;
- (void)_startMigratorServiceForMailDownloads;
- (void)upgradeMailDownloadsFiles;
- (void)_cleanUpSyncedData;
- (void)_removeSyncedFilesMetadata;
- (void)_moveSyncedFilesToLocal;
- (BOOL)_removeMessageTypeFromSmartMailbox:(id)arg1 localProperties:(id)arg2;
- (void)_removeMessageTypeFromSmartMailboxes;
- (void)_removeMessageTypeFromRules;
- (void)_combineVIPSendersPlists;
- (void)_addFileExtensionToSignatures;
- (void)_changeSignatureBundleLayout;
- (void)_changeSignaturesLayout;
- (void)_changeSmartMailboxesLayout;
- (void)_changeRulesLayout;
- (void)_upgradeFromLionToMountainLion;
- (void)_updateSmartMailboxUnreadMessagesForMailboxes:(id)arg1;
- (void)_updateSmartMailboxUnreadMessages;
- (void)_migrateTasksToLocalCalendar;
- (void)_upgradeFromSUSnowFeltToLion;
- (void)_upgradeFromSnowLeopardToSUSnowFelt;
- (void)_upgradeFromLeopardToSnowLeopard;
- (void)_updateCoalescedAddressReferences;
- (void)_populateRecipientPosition;
- (void)_upgradeFromTigerToLeopard;
- (void)_useWALJournalingIfPossible;
- (void)_vacuum;
- (void)_createNewDatabaseObjects;
- (void)_upgradeV3Schema:(id)arg1;
- (void)_upgradeV1V2Schema;
- (void)_upgradeSchemaFromBackBooting:(id)arg1;
- (void)_dropTriggers;
- (BOOL)_needToPerformUpgradeStep:(Class)arg1 fromBackBooting:(char *)arg2;
- (id)_upgradeStepsAndUpgradeStepsFromBackBooting:(id *)arg1 withHandle:(id)arg2;
- (void)run;
- (void)_removeToDos:(unsigned long long)arg1;
- (BOOL)validateV2MigrationPath:(id)arg1;
@property(readonly, nonatomic) BOOL isComplexMigrationToV2;
@property(readonly) BOOL shouldMigrateToV3;
@property(readonly) BOOL shouldMigrateToV2;
- (void)_evaluateAccountsForMigration;
- (BOOL)_allAccountsAreOnSameFSAsLibraryMail;
@property(readonly, copy, nonatomic) NSArray *unresolvedAccountPaths;
- (void)resetEvaluationOfAccountsForV2Migration;
@property(readonly, nonatomic) long long libraryStatus;
- (void)dealloc;
- (id)init;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly, copy, nonatomic) NSString *displayName;
@property(readonly) unsigned long long hash;
@property(readonly, nonatomic) BOOL isSmartMailbox;
@property(readonly) Class superclass;

@end

