/*
 *     Generated by class-dump 3.4 (64 bit).
 *
 *     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2012 by Steve Nygard.
 */

#import "NSObject.h"

#import "MCActivityTarget.h"

@class MCActivityAggregate, MCActivityMonitor, MFLibrary, MFSqliteHandle, NSString;

@interface MFLibraryUpgrader : NSObject <MCActivityTarget>
{
    MFLibrary *_library;
    unsigned long long _majorVersion;
    unsigned long long _minorVersion;
    MCActivityAggregate *_activity;
    struct sqlite3 *_upgraderDB;
    MFSqliteHandle *_handle;
    BOOL _readOnly;
    BOOL _shouldRecalculateConversations;
    BOOL _shouldUpdateSubjectPrefixes;
    BOOL _shouldRecalculateMessageCounts;
    BOOL _shouldFixupSpotlightAttributesFromBackBooting;
    BOOL _shouldUpdateMailboxURLs;
    BOOL _shouldResetPasswords;
    BOOL _shouldResetHighestChangeIdentifierForLabels;
    BOOL _shouldNormalizeMailboxPaths;
    id <MFLibraryUpgraderDelegate> _delegate;
    MCActivityMonitor *_monitor;
    NSString *_migrationDestinationPath;
    unsigned long long _initialLastWriteMinorVersion;
    id _activityToken;
}

+ (void)initialize;
@property(retain, nonatomic) id activityToken; // @synthesize activityToken=_activityToken;
@property(nonatomic) unsigned long long initialLastWriteMinorVersion; // @synthesize initialLastWriteMinorVersion=_initialLastWriteMinorVersion;
@property(nonatomic) BOOL shouldNormalizeMailboxPaths; // @synthesize shouldNormalizeMailboxPaths=_shouldNormalizeMailboxPaths;
@property(nonatomic) BOOL shouldResetHighestChangeIdentifierForLabels; // @synthesize shouldResetHighestChangeIdentifierForLabels=_shouldResetHighestChangeIdentifierForLabels;
@property(nonatomic) BOOL shouldResetPasswords; // @synthesize shouldResetPasswords=_shouldResetPasswords;
@property(nonatomic) BOOL shouldUpdateMailboxURLs; // @synthesize shouldUpdateMailboxURLs=_shouldUpdateMailboxURLs;
@property(nonatomic) BOOL shouldFixupSpotlightAttributesFromBackBooting; // @synthesize shouldFixupSpotlightAttributesFromBackBooting=_shouldFixupSpotlightAttributesFromBackBooting;
@property(nonatomic) BOOL shouldRecalculateMessageCounts; // @synthesize shouldRecalculateMessageCounts=_shouldRecalculateMessageCounts;
@property(nonatomic) BOOL shouldUpdateSubjectPrefixes; // @synthesize shouldUpdateSubjectPrefixes=_shouldUpdateSubjectPrefixes;
@property(nonatomic) BOOL shouldRecalculateConversations; // @synthesize shouldRecalculateConversations=_shouldRecalculateConversations;
@property(copy) NSString *migrationDestinationPath; // @synthesize migrationDestinationPath=_migrationDestinationPath;
@property(retain, nonatomic) MCActivityMonitor *monitor; // @synthesize monitor=_monitor;
@property BOOL readOnly; // @synthesize readOnly=_readOnly;
@property id <MFLibraryUpgraderDelegate> delegate; // @synthesize delegate=_delegate;
- (void)upgradeSignaturesFromLion;
- (void)upgradeSmartMailboxesFromLion;
- (void)upgradeRulesFromLion;
- (void)upgradeMailDataIfNecessary;
- (long long)_getSQLTableCount:(const char *)arg1 usingDB:(struct sqlite3 *)arg2;
- (void)_stampCurrentMinorVersion;
- (void)_executeSQL:(id)arg1 updateMinorVersion:(unsigned long long)arg2;
- (BOOL)_needsRun;
- (BOOL)_canRun:(id *)arg1;
- (void)_bootstrapVersioningEngine;
- (void)_getVersionInfo;
- (void)_unlockWriterDB:(struct sqlite3 *)arg1;
- (struct sqlite3 *)_getWriterDB;
- (void)_unlockReaderDB:(struct sqlite3 *)arg1;
- (struct sqlite3 *)_getReaderDB;
- (id)_handle;
- (void)_setHandle:(id)arg1;
- (void)resetProgressItemsWithTotal:(unsigned long long)arg1 andStatusMessage:(id)arg2;
- (void)incrementProgressIndicatorWithThreshold:(unsigned long long)arg1;
- (void)incrementProgressIndicator;
- (void)setProgressItemTotal:(unsigned long long)arg1;
- (void)_setActivity:(id)arg1;
- (id)_activity;
- (void)_resetPasswords;
- (void)_fakeLibraryUpgraderStep;
- (void)_resetHighestChangeIdentifierForLabels;
- (void)_fixShadowEMLXFilesForAccount:(id)arg1;
- (void)_fixShadowEMLXFiles;
- (void)_resetConversationsForExistingMessages;
- (void)_resetSnippetColumn;
- (BOOL)_calculateInternationalSubjectPrefixes;
- (void)updateFavoritePersistentIdentifierUnicodeComposition;
- (void)_updateMailboxURLUnicodeComposition;
- (id)_copySpotlightAttributesWithDateSent:(int)arg1 dateReceived:(int)arg2 dateLastViewed:(int)arg3 read:(int)arg4 libraryFlags:(long long)arg5 messageID:(const char *)arg6 subject:(id)arg7 displayName:(id)arg8 senderName:(id)arg9 senderAddress:(id)arg10 recipientNames:(id)arg11 recipientAddresses:(id)arg12;
- (id)_urlStringForMailboxDirectory:(id)arg1 account:(id)arg2 levelFromAccountDirectory:(unsigned long long)arg3;
- (void)_getRecipientsForMessageWithLibraryID:(long long)arg1 recipientNames:(id)arg2 recipientAddresses:(id)arg3 dbHandle:(id)arg4;
- (void)_setSpotlightAttributesForEMLXFilesInMailbox:(id)arg1 mailboxURLString:(id)arg2;
- (void)_updateSpotlightAttributes;
- (void)_resetChangeIdentifierForGmailAccounts;
- (void)_fixLocalMailboxes:(unsigned long long)arg1;
- (void)_normalizeMailboxPathComponentsInMboxCache;
- (void)_addAllegedChangeIdentifier:(unsigned long long)arg1;
- (id)_mailboxURLStringsForAccount:(id)arg1;
- (BOOL)_accountIsGmailAccount:(id)arg1;
- (void)_deleteBogusTopLevelMailboxes:(unsigned long long)arg1;
- (void)_resetMailboxSource:(unsigned long long)arg1;
- (void)_addMessageIDMailboxIndex:(unsigned long long)arg1;
- (void)_removeMailboxUUIDColumn:(unsigned long long)arg1;
- (void)_removeSupportForRedundantContentCache:(unsigned long long)arg1;
- (void)_clearLabelsTable:(unsigned long long)arg1;
- (void)_addMailboxSource:(unsigned long long)arg1;
- (void)_fixGmailLabelsIndex:(unsigned long long)arg1;
- (void)_addGmailLabelsSupport:(unsigned long long)arg1;
- (void)_addConversationPosition:(unsigned long long)arg1;
- (void)_resetConversationRootColumn:(unsigned long long)arg1;
- (void)_upgradeFromMountainLionToSUMountainCalypso;
- (void)makeAppleScriptReferencesInRulesUseOnlyLastPathComponent;
- (void)_fixEWSFoldersTable;
- (void)fixMailDownloadsMigrationKey;
- (void)_startMigratorServiceForAppleScriptFilesAndRules;
- (void)upgradeAppleScriptFilesAndRules;
- (void)_startMigratorServiceForMailDownloads;
- (void)upgradeMailDownloadsFiles;
- (void)_removeDuplicateRSSAccounts;
- (void)_cleanUpSyncedData;
- (void)_removeSyncedFilesMetadata;
- (void)_moveSyncedFilesToLocal;
- (BOOL)_removeMessageTypeFromSmartMailbox:(id)arg1 localProperties:(id)arg2;
- (void)_removeMessageTypeFromSmartMailboxes;
- (void)_removeMessageTypeFromRules;
- (void)_combineVIPSendersPlists;
- (void)_addFileExtensionToSignatures;
- (void)_changeSignatureBundleLayout;
- (void)_changeSignaturesLayout;
- (void)_changeSmartMailboxesLayout;
- (void)_changeRulesLayout;
- (void)_upgradeFromLionToMountainLion;
- (void)_updateSmartMailboxUnreadMessagesForMailboxes:(id)arg1;
- (void)_updateSmartMailboxUnreadMessages;
- (void)_migrateTasksToLocalCalendar;
- (void)_upgradeFromSUSnowFeltToLion;
- (void)_upgradeFromSnowLeopardToSUSnowFelt;
- (void)_upgradeFromLeopardToSnowLeopard;
- (void)_updateCoalescedAddressReferences;
- (void)_populateRecipientPosition;
- (void)_upgradeFromTigerToLeopard;
- (void)_useWALJournalingIfPossible;
- (void)_vacuum;
- (void)_createNewDatabaseObjects;
- (void)_upgradeSchema;
- (void)_upgradeSchemaFromBackBooting;
- (void)_dropTriggers;
- (void)_firstLoginDidTimeout;
- (void)run;
- (void)_removeToDos:(unsigned long long)arg1;
- (BOOL)validateMigrationPath:(id)arg1;
- (BOOL)isComplexMigrationToV2;
- (BOOL)shouldMigrateToV2;
- (void)_evaluateAccountsForMigration;
- (BOOL)_allAccountsAreOnSameFSAsLibraryMail;
- (id)unresolvedAccountPaths;
- (void)resetEvaluationOfAccountsForMigration;
- (BOOL)_shouldDisplayDisturbingAndVagueWarningAboutMigrationToUser;
- (long long)libraryStatus;
- (void)dealloc;
- (id)init;
- (id)initWithLibrary:(id)arg1;

@end

